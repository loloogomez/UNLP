programa repaso2
procesos
  proceso juntarFlores ()
  comenzar
    repetir 14
      mientras (HayFlorEnLaEsquina) 
        tomarFlor
      mover
    mientras (HayFlorEnLaEsquina)
      tomarFlor
  fin
  
  proceso juntarPapeles ()
  comenzar
    repetir 9
      mientras (HayPapelEnLaEsquina)
        tomarPapel
      mover
    mientras (HayFlorEnLaEsquina)
      tomarPapel
  fin

areas
  areaJ: AreaP (1,1, 1,1)
  area1: AreaP (2,1, 2,1)
  area2: AreaP (3,1, 3,1)
  area3: AreaP (4,1, 4,1)
  area4: AreaP (5,1, 5,1)
  area1E1: AreaPC (5,5, 5,5)
  area2E1: AreaP (5,6, 5, 20)
  area3E1: AreaP (6,5, 15,5)
  area1E2: AreaPC (25,5, 25,5)
  area2E2: AreaP (25,6, 25,20)
  area3E2: AreaP (26,5, 35,5)

robots
  robot robotF
  variables
    id: numero
  comenzar
    RecibirMensaje (id, rJ)
    si (id = 1)
      BloquearEsquina (5,5)
      Pos (5,5)
    sino
      BloquearEsquina (25,5)
      Pos (25,5)
    mientras (HayFlorEnLaEsquina)
      tomarFlor
      Pos(PosAv, PosCa + 1)
      LiberarEsquina (PosAv, PosCa -1)
      BloquearEsquina (PosAv, PosCa -1)
      Pos (PosAv, PosCa - 1)
    mover
    LiberarEsquina (PosAv, PosCa -1)
    juntarFlores ()
    EnviarMensaje (V, r2)
  fin
  
  robot robotP
  variables
    id: numero
    termino: boolean
  comenzar
    RecibirMensaje (id, rj)
    derecha
    si (id = 2)
      BloquearEsquina (5,5)
      Pos (5,5)
    sino
      BloquearEsquina (25,5)
      Pos (25,5)
    mientras (HayPapelEnLaEsquina)
      tomarPapel
      Pos (PosAv + 1, PosCa)
      LiberarEsquina (PosAv - 1, PosCa)
      BloquearEsquina (PosAv - 1, PosCa)
      Pos (PosAv -1, PosCa)
    mover
    LiberarEsquina (PosAv - 1, PosCa)
    juntarPapeles()
    si (id = 2)
      RecibirMensaje (termino, r1)
      EnviarMensaje (1, rJ)
    sino
      RecibirMensaje (termino, r3)
      EnviarMensaje (2, rJ)
  fin  
    
  robot robotJ
  variables 
    ganador: numero
    perdedor: numero
  comenzar
    EnviarMensaje (1, r1)
    EnviarMensaje (2, r2)
    EnviarMensaje (3, r3)
    EnviarMensaje (4, r4)
    RecibirMensaje (ganador, *)
    RecibirMensaje (perdedor, *)
    Informar(ganador)
  fin
variables 
  rJ: robotJ
  r1: robotF
  r2: robotP
  r3: robotF
  r4: robotP
comenzar
  AsignarArea (rJ, areaJ)
  AsignarArea (r1, area1)
  AsignarArea (r1, area1E1)
  AsignarArea (r1, area2E1)
  AsignarArea (r2, area2)
  AsignarArea (r2, area1E1)
  AsignarArea (r2, area3E1)
  AsignarArea (r3, area3)
  AsignarArea (r3, area1E2)
  AsignarArea (r3, area2E2)
  AsignarArea (r4, area4)
  AsignarArea (r4, area1E2)
  AsignarArea (r4, area3E2)
  Iniciar (rJ)
  Iniciar (r1)
  Iniciar (r2)
  Iniciar (r3)
  Iniciar (r4)
fin 